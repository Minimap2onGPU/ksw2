# Test report

This file contains our results from running extd2_cpp using the large, medium, and small data sets
found in the default test_suite.

## Tests run
```
test_suite/large[0]
  ./coverage.sh test_suite/large/q0.fa test_suite/large/t0.fa -t extd2_cpp -w 200
test_suite/large[1]
  ./coverage.sh test_suite/large/q1.fa test_suite/large/t1.fa -t extd2_cpp -w 200
test_suite/large[2]
  ./coverage.sh test_suite/large/q2.fa test_suite/large/t2.fa -t extd2_cpp -w 200
test_suite/large[3]
  ./coverage.sh test_suite/large/q3.fa test_suite/large/t3.fa -t extd2_cpp -w 200
test_suite/medium[0]
  ./coverage.sh test_suite/medium/q0.fa test_suite/medium/t0.fa -t extd2_cpp -w 200
test_suite/medium[1]
  ./coverage.sh test_suite/medium/q1.fa test_suite/medium/t1.fa -t extd2_cpp -w 200
test_suite/medium[2]
  ./coverage.sh test_suite/medium/q2.fa test_suite/medium/t2.fa -t extd2_cpp -w 200
test_suite/medium[3]
  ./coverage.sh test_suite/medium/q3.fa test_suite/medium/t3.fa -t extd2_cpp -w 200
test_suite/small[0]
  ./coverage.sh test_suite/small/q0.fa test_suite/small/t0.fa -t extd2_cpp -w 200
test_suite/small[1]
  ./coverage.sh test_suite/small/q1.fa test_suite/small/t1.fa -t extd2_cpp -w 200
test_suite/small[2]
  ./coverage.sh test_suite/small/q2.fa test_suite/small/t2.fa -t extd2_cpp -w 200
test_suite/small[3]
  ./coverage.sh test_suite/small/q3.fa test_suite/small/t3.fa -t extd2_cpp -w 200
```


## Coverage script

```
#!/bin/bash
if [ -z "$KSW2COV" ]; then
    KSW2COV=./ksw2-test
fi

# Test code coverage of ksw2 
u=$1
t=$2

# Normal run, no flags enabled
$KSW2COV $u $t ${@:2}

# Enables KSW_EZ_RIGHT
$KSW2COV $u $t -r ${@:2}

## Enables KSW_EZ_GENERIC_SC  
$KSW2COV $u $t -c ${@:2} 

# Enables KSW_EZ_REV_CIGAR  
$KSW2COV $u $t -v ${@:2} 

# Enables KSW_EZ_EXTZ_ONLY  
$KSW2COV $u $t -x ${@:2} 

# Sets end_bonus and zdrop
#$KSW2COV $u $t ${@:2} -x -e 1 -z 1

# Sets end_bonus
$KSW2COV $u $t ${@:2} -x -e 1

# Sets zdrop
# FIXME: Fails correctness test
$KSW2COV $u $t ${@:2} -x -z 1

# FIXME: Performs score calculation only (currently segmentation faults)
# $KSW2COV $u $t -s ${@:2}

# Modify the gap penalty to trigger long thres
$KSW2COV -t extd2_cpp $u $t -x -E 2
```
## Results

```
extd2_cpp/test_suite/large/output0.txt [31m F [700 / 800] [m 
extd2_cpp/test_suite/large/output1.txt [31m F [576 / 800] [m 
extd2_cpp/test_suite/large/output2.txt [31m F [495 / 800] [m 
extd2_cpp/test_suite/large/output3.txt [31m F [436 / 800] [m 
extd2_cpp/test_suite/medium/output0.txt [31m F [700 / 800] [m 
extd2_cpp/test_suite/medium/output1.txt [31m F [588 / 800] [m 
extd2_cpp/test_suite/medium/output2.txt [31m F [583 / 800] [m 
extd2_cpp/test_suite/medium/output3.txt [31m F [666 / 800] [m 
extd2_cpp/test_suite/small/output0.txt [31m F [702 / 800] [m 
extd2_cpp/test_suite/small/output1.txt [31m F [700 / 800] [m 
extd2_cpp/test_suite/small/output2.txt [31m F [700 / 800] [m 
extd2_cpp/test_suite/small/output3.txt [31m F [700 / 800] [m 
Error in: extd2_cpp/test_suite/large/output0.txt:601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641, 642, 643, 644, 645, 646, 647, 648, 649, 650, 651, 652, 653, 654, 655, 656, 657, 658, 659, 660, 661, 662, 663, 664, 665, 666, 667, 668, 669, 670, 671, 672, 673, 674, 675, 676, 677, 678, 679, 680, 681, 682, 683, 684, 685, 686, 687, 688, 689, 690, 691, 692, 693, 694, 695, 696, 697, 698, 699, 700, 
Error in: extd2_cpp/test_suite/large/output1.txt:11, 41, 42, 46, 111, 141, 142, 146, 211, 241, 242, 246, 311, 341, 342, 346, 411, 441, 442, 446, 511, 541, 542, 546, 601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641, 642, 643, 644, 645, 646, 647, 648, 649, 650, 651, 652, 653, 654, 655, 656, 657, 658, 659, 660, 661, 662, 663, 664, 665, 666, 667, 668, 669, 670, 671, 672, 673, 674, 675, 676, 677, 678, 679, 680, 681, 682, 683, 684, 685, 686, 687, 688, 689, 690, 691, 692, 693, 694, 695, 696, 697, 698, 699, 700, 
Error in: extd2_cpp/test_suite/large/output2.txt:41, 141, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 341, 441, 541, 601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641, 642, 643, 644, 645, 646, 647, 648, 649, 650, 651, 652, 653, 654, 655, 656, 657, 658, 659, 660, 661, 662, 663, 664, 665, 666, 667, 668, 669, 670, 671, 672, 673, 674, 675, 676, 677, 678, 679, 680, 681, 682, 683, 684, 685, 686, 687, 688, 689, 690, 691, 692, 693, 694, 695, 696, 697, 698, 699, 700, 
Error in: extd2_cpp/test_suite/large/output3.txt:1, 26, 32, 46, 51, 63, 67, 68, 77, 78, 80, 86, 91, 96, 101, 132, 146, 151, 167, 168, 177, 178, 180, 186, 189, 191, 195, 196, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 326, 332, 346, 351, 363, 367, 368, 377, 378, 380, 386, 391, 396, 401, 432, 446, 467, 468, 477, 478, 480, 486, 491, 496, 501, 532, 546, 567, 568, 577, 578, 580, 586, 591, 596, 601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641, 642, 643, 644, 645, 646, 647, 648, 649, 650, 651, 652, 653, 654, 655, 656, 657, 658, 659, 660, 661, 662, 663, 664, 665, 666, 667, 668, 669, 670, 671, 672, 673, 674, 675, 676, 677, 678, 679, 680, 681, 682, 683, 684, 685, 686, 687, 688, 689, 690, 691, 692, 693, 694, 695, 696, 697, 698, 699, 700, 
Error in: extd2_cpp/test_suite/medium/output0.txt:601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641, 642, 643, 644, 645, 646, 647, 648, 649, 650, 651, 652, 653, 654, 655, 656, 657, 658, 659, 660, 661, 662, 663, 664, 665, 666, 667, 668, 669, 670, 671, 672, 673, 674, 675, 676, 677, 678, 679, 680, 681, 682, 683, 684, 685, 686, 687, 688, 689, 690, 691, 692, 693, 694, 695, 696, 697, 698, 699, 700, 
Error in: extd2_cpp/test_suite/medium/output1.txt:19, 21, 119, 121, 219, 221, 319, 321, 419, 421, 519, 521, 601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641, 642, 643, 644, 645, 646, 647, 648, 649, 650, 651, 652, 653, 654, 655, 656, 657, 658, 659, 660, 661, 662, 663, 664, 665, 666, 667, 668, 669, 670, 671, 672, 673, 674, 675, 676, 677, 678, 679, 680, 681, 682, 683, 684, 685, 686, 687, 688, 689, 690, 691, 692, 693, 694, 695, 696, 697, 698, 699, 700, 
Error in: extd2_cpp/test_suite/medium/output2.txt:64, 164, 210, 211, 216, 235, 239, 248, 254, 264, 265, 275, 287, 298, 364, 464, 564, 601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641, 642, 643, 644, 645, 646, 647, 648, 649, 650, 651, 652, 653, 654, 655, 656, 657, 658, 659, 660, 661, 662, 663, 664, 665, 666, 667, 668, 669, 670, 671, 672, 673, 674, 675, 676, 677, 678, 679, 680, 681, 682, 683, 684, 685, 686, 687, 688, 689, 690, 691, 692, 693, 694, 695, 696, 697, 698, 699, 700, 
Error in: extd2_cpp/test_suite/medium/output3.txt:201, 207, 209, 211, 212, 215, 217, 219, 223, 226, 230, 233, 235, 236, 243, 244, 245, 256, 257, 261, 263, 265, 270, 271, 272, 274, 275, 280, 287, 291, 292, 293, 294, 299, 601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641, 642, 643, 644, 645, 646, 647, 648, 649, 650, 651, 652, 653, 654, 655, 656, 657, 658, 659, 660, 661, 662, 663, 664, 665, 666, 667, 668, 669, 670, 671, 672, 673, 674, 675, 676, 677, 678, 679, 680, 681, 682, 683, 684, 685, 686, 687, 688, 689, 690, 691, 692, 693, 694, 695, 696, 697, 698, 699, 700, 
Error in: extd2_cpp/test_suite/small/output0.txt:601, 602, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641, 642, 643, 644, 645, 646, 647, 648, 649, 650, 651, 652, 653, 654, 655, 656, 657, 658, 659, 660, 661, 662, 663, 664, 665, 666, 667, 668, 669, 670, 671, 672, 673, 674, 675, 676, 677, 678, 679, 680, 681, 682, 683, 684, 685, 686, 687, 688, 690, 691, 692, 693, 694, 695, 696, 697, 698, 699, 700, 
Error in: extd2_cpp/test_suite/small/output1.txt:601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641, 642, 643, 644, 645, 646, 647, 648, 649, 650, 651, 652, 653, 654, 655, 656, 657, 658, 659, 660, 661, 662, 663, 664, 665, 666, 667, 668, 669, 670, 671, 672, 673, 674, 675, 676, 677, 678, 679, 680, 681, 682, 683, 684, 685, 686, 687, 688, 689, 690, 691, 692, 693, 694, 695, 696, 697, 698, 699, 700, 
Error in: extd2_cpp/test_suite/small/output2.txt:601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641, 642, 643, 644, 645, 646, 647, 648, 649, 650, 651, 652, 653, 654, 655, 656, 657, 658, 659, 660, 661, 662, 663, 664, 665, 666, 667, 668, 669, 670, 671, 672, 673, 674, 675, 676, 677, 678, 679, 680, 681, 682, 683, 684, 685, 686, 687, 688, 689, 690, 691, 692, 693, 694, 695, 696, 697, 698, 699, 700, 
Error in: extd2_cpp/test_suite/small/output3.txt:601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641, 642, 643, 644, 645, 646, 647, 648, 649, 650, 651, 652, 653, 654, 655, 656, 657, 658, 659, 660, 661, 662, 663, 664, 665, 666, 667, 668, 669, 670, 671, 672, 673, 674, 675, 676, 677, 678, 679, 680, 681, 682, 683, 684, 685, 686, 687, 688, 689, 690, 691, 692, 693, 694, 695, 696, 697, 698, 699, 700, 
[31m=================================================[31m 12 failed[m, [32m 0 passed[m [31m=================================================[m
```
The first number in each line number maps to the test case in `coverage.sh`. For example, `41` maps
to
```
# Normal run, no flags enabled
$KSW2COV $u $t ${@:2}
```
whereas `141` maps to (the next test case)
```
# Enables KSW_EZ_RIGHT
$KSW2COV $u $t -r ${@:2}
```
